<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Pause & Reflect</title>
    <style>
        body { font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; background: #f0f4f8; margin: 0; }
        .card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center; }
        h1 { color: #2d3748; }
        .target { font-size: 1.5rem; color: #4a5568; margin: 1rem 0; }
        .btn { display: inline-block; margin-top: 1rem; padding: 0.5rem 1rem; background: #4299e1; color: white; text-decoration: none; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="card">
        <h1>本当に今、そのサイト必要？</h1>
        <p class="target">目標,現在地を思い出して、深呼吸してみよう。</p>
        <p>「無意識のクリック」を「意識的な選択」に変える時間にできるよ。</p>
        <a href="javascript:history.back()" class="btn">戻って作業を続ける</a>
        <br>
        <a id="destination" href="#" class="btn btn-primary">それでも 10分だけ見る</a>
    </div>

    <script>
        // URLパラメータ "?url=..." から本来の目的地を取得
        const params = new URLSearchParams(window.location.search);
        let targetUrl = params.get('url');
        const destLink = document.getElementById('destination');
    
        if (targetUrl) {
            // もしURLが http で始まっていない場合（ドメイン名だけの場合など）の補完
            if (!targetUrl.startsWith('http')) {
                targetUrl = 'https://' + targetUrl;
            }
            // ループ防止用のフラグを末尾に付与
            const separator = targetUrl.includes('?') ? '&' : '?';
            destLink.href = targetUrl + separator + 'from_reminder=true';
        } else {
            destLink.style.display = 'none';
        }
   </script>
</body>
</html>
